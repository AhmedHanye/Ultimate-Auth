let setTheme=e=>{document.documentElement.className=e},systemTheme=()=>{var e=window.matchMedia("(prefers-color-scheme: dark)");setTheme(e.matches?"dark":"light")},handleTheme=()=>{var e=localStorage.getItem("theme");e&&"system"!==e?setTheme(e):systemTheme()},localStorageChangeEvent=(handleTheme(),window.addEventListener("storage",e=>{"theme"===e.key&&handleTheme()}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",handleTheme),new Event("localStorageChange")),originalSetItem=localStorage.setItem;localStorage.setItem=function(e,t){var a=localStorage.getItem(e);originalSetItem.apply(this,arguments),"theme"===e&&a!==t&&window.dispatchEvent(localStorageChangeEvent)},window.addEventListener("localStorageChange",handleTheme);